<div class="big-wrapper">
    <div class="list-container">
        <h2>Ride history:</h2>
        <select class="sort-select" (change)="onChange($event)">
        <option *ngFor="let option of options" [value]="option.value">{{option.label}}</option></select>
        <br>
        <br>
        <div class="scrollable">
            <div *ngFor='let ride of rides' (click)='selectRide(ride)' class="item">
                <div id="left-column" class="column">
                    <i class="fa fa-arrow-right"></i>  <p class="inline">{{ride.locations[0].departure.address}}</p> <br>
                    <i class="fa fa-arrow-left"></i>  <p class="inline">{{ride.locations[0].destination.address}}</p>
                    <p>Cena: {{ride.totalCost}} RSD</p>
                </div>
                <div id="right-column" class="column">
                    <p>{{ride.startTime}}</p>
                    <p>{{ride.endTime}}</p>
                    <i (click)="makeFavorite(ride)"class="fa fa-star-o fav_star"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="map-container">
        <app-map></app-map>
        <div *ngIf="selectedRide" class="info-container">

            <div class="driver">
                <div>
                    <div class="profile-picture">

                    </div>
                    <div class="profile-name">
                        <h1>Driver's name:</h1>
                        <h1>{{selectedRideDriver.name}} {{selectedRideDriver.surname}}</h1>
                    </div>
                </div>
                <div>
                    <h1>Driver rating: {{selectedRideDriverAvgRating}}</h1>
                    <i class="fa" *ngFor="let star of stars" [ngClass]="{'fa-star': star <= selectedRideDriverAvgRating, 'fa-star-o': star > selectedRideDriverAvgRating}"></i>
                    <h1>Vehicle rating: {{selectedRideVehicleAvgRating}}</h1>
                    <i class="fa" *ngFor="let star of stars" [ngClass]="{'fa-star': star <= selectedRideVehicleAvgRating, 'fa-star-o': star > selectedRideVehicleAvgRating}"></i>
                </div>
            </div>

            <div class="comments">
                <h1>Comments</h1>
                <div class="comment-list">
                    <div *ngFor='let review of selectedRideReviews' class="comment">
                        <div>
                            <div class="comment-profile-picture">

                            </div>
                            <div class="comment-profile-name">
                                <h2>{{review.passenger.email}}</h2>
                            </div>                          
                        </div>
                        <p>{{review.comment}}</p>
                        <h3 class="black">Rating: {{review.rating}}</h3>
                    </div>
                </div>
            </div>

            <div class="buttons">
                <button (click)="createRide(selectedRide)">Begin</button>
                <button (click)="openTimePicker(selectedRide)">Book</button>
                <button (click)="openComment(selectedRide.id)">Comment</button>
            </div>
        </div>
    </div>
</div>
